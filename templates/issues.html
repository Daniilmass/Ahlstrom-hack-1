{% extends 'base.html' %}
{% block content %}
    <h1>Issues</h1>
        {% if issues_list %}
            <table class="issue_table table fixed_header table-striped">
                <thead>
                    <tr>
                      <th scope="col">Breakdown time</th>
                      <th scope="col">Injury</th>
                      <th scope="col">Fix state</th>
                      <th scope="col">Time (h)</th>
                      <th scope="col">Machines</th>
                      <th scope="col">Used Parts</th>
                    </tr>
                </thead>
                <tbody>
                {% for issue in issues_list %}

                        <tr id="{{ issue.id }}">
                            <td>{{ issue.time_not_working }}</td>
                            <td>
                                {% if issue.injury == True %}
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheckDisabled" disabled checked>
                                        <label class="custom-control-label" for="customCheckDisabled"> Injury happened</label>
                                    </div>
                                {% else %}
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheckDisabled" disabled>
                                        <label class="custom-control-label" for="customCheckDisabled"> No injury happened</label>
                                    </div>
                                {% endif %}
                            </td>
                            <td>
                                {% if issue.fixed == True %}
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheckDisabled" disabled checked>
                                        <label class="custom-control-label" for="customCheckDisabled"> Fixed</label>
                                    </div>
                                {% else %}
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheckDisabled" disabled>
                                        <label class="custom-control-label" for="customCheckDisabled"> Not fixed</label>
                                    </div>
                                {% endif %}
                            </td>
                            <td>{{ issue.duration_unfix }}</td>
                            <td>
                                {% for machines in issue.machine_id.all %}
                                    <p>{{ machines.name }}</p>
                                {% endfor %}
                            </td>
                            <td>
                                {% for parts in issue.parts_id.all %}
                                    <p>{{ parts.name }}</p>
                                {% endfor %}
                            </td>
                        </tr>
                    {% endfor %}
                 </tbody>
            </table>
        {% else %}
            <div class="row w-100 p-3">
                <div align="middle" class="col-5">
                    <p>No issues are available.</p>
                </div>
            </div>
        {% endif %}
{% endblock %}
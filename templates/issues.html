{% extends 'base.html' %}
{% block content %}
    <h1>Issues</h1>
        {% if issues_list %}
            <table class="table fixed_header table-striped">
                <thead>
                    <tr>
                          <th scope="col">Issue time</th>
                          <th scope="col">Injury</th>
                          <th scope="col">Fix state</th>
                          <th scope="col">Time (h)</th>
                          <th scope="col">Machines</th>
                          <th scope="col">Used Parts</th>
                    </tr>
                </thead>
                <tbody class="data_table">
                {% for issue in issues_list %}

                        <tr id="{{ issue.id }}">
                            <td>{{ issue.time_not_working }}</td>
                            <td>
                                {% if issue.injury == True %}
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheckDisabled" disabled checked>
                                        <label class="custom-control-label" for="customCheckDisabled"></label>
                                    </div>
                                {% else %}
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheckDisabled" disabled>
                                        <label class="custom-control-label" for="customCheckDisabled"></label>
                                    </div>
                                {% endif %}
                            </td>
                            <td>
                                {% if issue.fixed == True %}
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheckDisabled" disabled checked>
                                        <label class="custom-control-label" for="customCheckDisabled"></label>
                                    </div>
                                {% else %}
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheckDisabled" disabled>
                                        <label class="custom-control-label" for="customCheckDisabled"></label>
                                    </div>
                                {% endif %}
                            </td>
                            <td>{{ issue.duration_unfix }}</td>
                            <td>
                                {% for machines in issue.machine_id.all %}
                                    <p>{{ machines.name }}</p>
                                {% endfor %}
                            </td>
                            <td>
                                {% for parts in issue.parts_id.all %}
                                    <p>{{ parts.name }}</p>
                                {% endfor %}
                            </td>
                        </tr>
                    {% endfor %}
                 </tbody>
            </table>
        {% else %}
            <div class="row w-100 p-3">
                <div align="middle" class="col-5">
                    <p>No issues are available.</p>
                </div>
            </div>
        {% endif %}
        <div class="row justify-content-md-center button_right_fix fixed-bottom">

        <button id="add_button" type="button" align="center" class= "btn button1 btn-lg btn-outline-danger"><img width="50px" height="50px" src="../static/rwanda-plus-icon.png"></button>

    </div>
{% endblock %}